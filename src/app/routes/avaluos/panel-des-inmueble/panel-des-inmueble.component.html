<section class="demo-expansion">
  <mat-expansion-panel #desInmueblePanel1>
    <mat-expansion-panel-header>
      <mat-panel-title>CONSTRUCCIONES PRIVATIVAS Y CONSTRUCCIONES COMUNES</mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card>
      <mat-card-actions fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="10px">
        <button mat-fab style="background-color: #00b140; outline: none;" matTooltip="Registrar construcciones"
        (click)="openDialog()" outline:none;>
        <mat-icon>add</mat-icon>
      </button>
      </mat-card-actions>
      <mat-card-content>
        <form [formGroup]="desInmueble1FormGroup" class="matero-form-horizontal">
            <div class="matero-row" fxLayout="row wrap">
              <div fxFlex="100" class="matero-col">
                   <mat-card>
                  <mat-card-title fx-item style="color: #009288; font-weight: lighter;">PRIVATIVAS</mat-card-title>
                  <mat-divider></mat-divider><br>
            
                  <mat-card-header fxLayout="column" fxLayoutAlign="center start">
                    <div
                         class="w-full flex flex-col sm:flex-row justify-between">          
                    </div>
                  </mat-card-header>
            
                  <mat-card-content class="-mt-6" fxLayout="column">          
                    <div class="card overflow-auto -mt-16">
            
                      <!-- <table @stagger [dataSource]="dataSource" mat-table matSort class="mat-elevation-z8">
                      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8"
                             style="width: 100%;">
                                       
          
                        Text Columns 
                        <ng-container *ngFor="let column of columns;">
                          <ng-container *ngIf="column.type === 'text'" [matColumnDef]="column.property">
                            <th *matHeaderCellDef class="uppercase" mat-header-cell mat-sort-header
                                style="width: auto;">
                              {{ column.label }}</th>
                            <td *matCellDef="let row" [ngClass]="column.cssClasses" mat-cell>
                              {{ row[column.property] }}</td>
                          </ng-container>
                        </ng-container>
                       
                        <tr *matHeaderRowDef="visibleColumns" mat-header-row></tr>
                        <tr (click)="updateCustomer(row)"
                            *matRowDef="let row; columns: visibleColumns;"
                            @fadeInUp
                            class="hover:bg-hover trans-ease-out cursor-pointer"
                            mat-row ></tr>
                      </table>-->

                      <div class="example-table-container">

                        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" style="width: 100%;"
                               matSort matSortActive="created" matSortDisableClear matSortDirection="desc">
                          <!-- Id Column -->
                          <ng-container matColumnDef="id">
                            <mat-header-cell *matHeaderCellDef> Id </mat-header-cell>
                            <td mat-cell *matCellDef="let row">{{row.idInmConstruccion}}</td>
                          </ng-container>
                    
                          <!-- Folio Column -->
                          <ng-container matColumnDef="folio">
                            <th mat-header-cell *matHeaderCellDef>Folio</th>
                            <td mat-cell *matCellDef="let row">{{row.folio}}</td>
                          </ng-container>
                    
                           <!-- Tipo construcción Column -->
                          <ng-container matColumnDef="tipoConstruccion">
                            <th mat-header-cell *matHeaderCellDef>Tipo</th>
                            <td mat-cell *matCellDef="let row">{{row.tipoConstruccion}}</td>
                          </ng-container>

                           <!-- Id tipo construcción Column -->
                          <ng-container matColumnDef="idTipoConstruccion">
                            <th mat-header-cell *matHeaderCellDef>Tipo</th> 
                            <td mat-cell *matCellDef="let row" style="padding-right: 5px; background-color: #cbd9e7;">  
                              <mat-form-field floatLabel="never" >            
                                <mat-select placeholder="" value="{{row.idTipoConstruccion}}" >
                                  <mat-option  *ngFor="let item of tpoConstruccion " value="{{item.clave}}" >
                                    {{item.descripcion}}
                                  </mat-option>
                                </mat-select>  
                              </mat-form-field></td>
                          </ng-container>

                            <!-- Superficie Column -->
                            <ng-container matColumnDef="superficie">
                              <th mat-header-cell *matHeaderCellDef> Superficie </th>
                              <td mat-cell *matCellDef="let row"> 
                                <ng-container *ngIf="row.idInmConstruccion!==editRowId">
                                <span (click)="edit(row.idInmConstruccion,'superficie')">{{row.superficie}} </span>
                                </ng-container>
                                <ng-container *ngIf="row.idInmConstruccion===editRowId">
                                  <mat-form-field floatLabel="never" >
                                <input matInput formControlName="superficie" [(ngModel)]="row.superficie" type="text"  appDecimal5Mask maxlength="5"> 
                               </mat-form-field>
                                </ng-container>
                                </td>
                            </ng-container>


                             <!-- Descripción Column -->
                             <ng-container matColumnDef="descripcionModulo">
                              <th mat-header-cell *matHeaderCellDef> Descripción </th>
                              <td mat-cell *matCellDef="let row"> 
                                <ng-container *ngIf="row.idInmConstruccion!==editRowId">
                                <span (click)="edit(row.idInmConstruccion,'descripcionModulo')">{{row.descripcionModulo}} </span>
                                </ng-container>
                                <ng-container *ngIf="row.idInmConstruccion===editRowId">
                                  <mat-form-field floatLabel="never" >
                                <input matInput formControlName="descripcionModulo" [(ngModel)]="row.descripcionModulo" type="text" maxlength="100"> 
                               </mat-form-field>
                                </ng-container>
                                </td>
                            </ng-container>



                               <!-- Nivel tipo Column -->
                               <ng-container matColumnDef="nivelTipo">
                                <th mat-header-cell *matHeaderCellDef> Nivel tipo </th>
                                <td mat-cell *matCellDef="let row"> 
                                  <ng-container *ngIf="row.idInmConstruccion!==editRowId">
                                  <span (click)="edit(row.idInmConstruccion,'nivelTipo')">{{row.nivelTipo}} </span>
                                  </ng-container>
                                  <ng-container *ngIf="row.idInmConstruccion===editRowId">
                                    <mat-form-field floatLabel="never" >
                                  <input matInput formControlName="nivelTipo" [(ngModel)]="row.nivelTipo" type="number" onKeyPress="if(this.value.length>1) return false;"> 
                                 </mat-form-field>
                                  </ng-container>
                                  </td>
                              </ng-container>


                                  <!-- Uso Column -->
                                  <ng-container matColumnDef="idUsoConstruccion">
                                    <th mat-header-cell *matHeaderCellDef>Uso</th> 
                                    <td mat-cell *matCellDef="let row" style="padding-right: 5px; background-color: #cbd9e7;">  
                                      <mat-form-field floatLabel="never" >            
                                        <mat-select placeholder="" value="{{row.idUsoConstruccion}}" >
                                          <mat-option  *ngFor="let item of usoConstruccion " value="{{item.clave}}" >
                                            {{item.descripcion}}
                                          </mat-option>
                                        </mat-select>  
                                      </mat-form-field></td>
                                  </ng-container>

                                   <!-- Rango de nivel Column -->
                                   <ng-container matColumnDef="idRangoNivelTGFD">
                                    <th mat-header-cell *matHeaderCellDef>Rango de nivel</th> 
                                    <td mat-cell *matCellDef="let row" style="padding-right: 5px; background-color: #cbd9e7;">  
                                      <mat-form-field floatLabel="never" >            
                                        <mat-select placeholder="" value="{{row.idRangoNivelTGDF}}" >
                                          <mat-option  *ngFor="let item of rangoNivel " value="{{item.clave}}" >
                                            {{item.descripcion}}
                                          </mat-option>
                                        </mat-select>  
                                      </mat-form-field></td>
                                  </ng-container>

                                <!-- Clase Column -->
                                <ng-container matColumnDef="claseF">
                                  <th mat-header-cell *matHeaderCellDef>CLASE</th>
                                  <td mat-cell *matCellDef="let row" style="background-color:#ead8f1; text-align: center;">{{row.claseF}}</td>
                                </ng-container>


                                 <!-- Puntaje Column -->
                                 <ng-container matColumnDef="puntajeF">
                                  <th mat-header-cell *matHeaderCellDef>PUNTAJE</th>
                                  <td mat-cell *matCellDef="let row" style="background-color:#ead8f1; text-align: center;">{{row.puntajeF}}</td>
                                </ng-container>

                            <!--  Edad Column -->
                            <ng-container matColumnDef="edad">
                              <th mat-header-cell *matHeaderCellDef> Edad </th>
                              <td mat-cell *matCellDef="let row"> 
                                <ng-container *ngIf="row.idInmConstruccion!==editRowId">
                                <span (click)="edit(row.idInmConstruccion,'edad')">{{row.edad}} </span>
                                </ng-container>
                                <ng-container *ngIf="row.idInmConstruccion===editRowId">
                                  <mat-form-field floatLabel="never" >
                                <input matInput formControlName="edad" [(ngModel)]="row.edad" type="number" onKeyPress="if(this.value.length>1) return false;"> 
                               </mat-form-field>
                                </ng-container>
                                </td>
                            </ng-container>

                              <!-- Co Column -->
                              <ng-container matColumnDef="idEstadoConservacion">
                                <th mat-header-cell *matHeaderCellDef>Estado de conservación</th> 
                                <td mat-cell *matCellDef="let row" style="padding-right: 5px; background-color: #DCE6EF;">  
                                  <mat-form-field floatLabel="never" >            
                                    <mat-select placeholder="" value="{{row.idEstadoConservacion}}" >
                                      <mat-option  *ngFor="let item of edoConservacion " value="{{item.clave}}" >
                                        {{item.descripcion}}
                                      </mat-option>
                                    </mat-select>  
                                  </mat-form-field></td>
                              </ng-container>


                               <!-- Indiviso Column -->
                               <ng-container matColumnDef="indiviso">
                                <th mat-header-cell *matHeaderCellDef>Indiviso</th>
                                <td mat-cell *matCellDef="let row">{{row.indiviso}}</td>
                              </ng-container>

                                   <!-- Clase ISAI Column -->
                              <ng-container matColumnDef="idClaseConstruccionF">
                                <th mat-header-cell *matHeaderCellDef>Clase I.S.A.I.</th>
                                <td mat-cell *matCellDef="let row" style="background-color: #efe5dc; text-align: center;">{{row.idClaseConstruccionF}}</td>
                              </ng-container>

                                        <!-- Puntos totales Column -->
                                        <ng-container matColumnDef="totalPuntosAjustadosF">
                                          <th mat-header-cell *matHeaderCellDef>Puntos totales</th>
                                          <td mat-cell *matCellDef="let row" style="background-color: #efe5dc; text-align: center;">{{row.totalPuntosAjustadosF}}</td>
                                       </ng-container>

                          <!-- Vida Min. Rem. Column -->
                          <ng-container matColumnDef="vidaMinimaRemanenteF">
                            <th mat-header-cell *matHeaderCellDef>Vida Min. Rem.</th>
                            <td mat-cell *matCellDef="let row" style="background-color: #efe5dc; text-align: center;">{{row.vidaMinimaRemanenteF}}</td>
                          </ng-container>

                               <!-- State Column -->
                               <ng-container matColumnDef="estadoGralConservacionF">
                                <th mat-header-cell *matHeaderCellDef>Tipo</th>
                                <td mat-cell *matCellDef="let row">{{row.estadoGralConservacionF}}</td>
                              </ng-container>
  
                               <!-- Indice de costos Column -->
                               <ng-container matColumnDef="indiceCostosRemanenteF">
                                <th mat-header-cell *matHeaderCellDef>Indice Costos Rem.</th>
                                <td mat-cell *matCellDef="let row">{{row.indiceCostosRemanenteF}}</td>
                              </ng-container>
                    
                            <!-- Clase s/matriz Column -->
                            <ng-container matColumnDef="claseSM">
                              <th mat-header-cell *matHeaderCellDef>CLASE S/MATRIZ</th>
                              <td mat-cell *matCellDef="let row" style="background-color:#ead8f1; text-align: center;">{{row.claseSM}}</td>
                            </ng-container>


                             <!-- Puntaje  s/matriz Column -->
                             <ng-container matColumnDef="puntajeSM">
                              <th mat-header-cell *matHeaderCellDef>PUNTAJE S/MATRIZ</th>
                              <td mat-cell *matCellDef="let row" style="background-color:#ead8f1; text-align: center;">{{row.puntajeSM}}</td>
                            </ng-container>

                             <!-- Action Column -->
            <ng-container matColumnDef="actions">
              <th *matHeaderCellDef mat-header-cell mat-sort-header>Acciones</th>
              <td *matCellDef="let row" class="w-10 text-secondary" mat-cell>
                <a (click)="$event.stopPropagation()"
                   class="w-8 h-8 leading-none flex items-center justify-center ml-1 hover:bg-hover"
                   mat-icon-button>
                  <img src="assets/images/icons/detalle.png" />
                </a>

                <a (click)="$event.stopPropagation()"
                   class="w-8 h-8 leading-none flex items-center justify-center ml-1 hover:bg-hover"
                   mat-icon-button>
                  <img src="assets/images/icons/duplicar.png" />
                </a>
                <a (click)="$event.stopPropagation()"
                   class="w-8 h-8 leading-none flex items-center justify-center ml-1 hover:bg-hover"
                   mat-icon-button>
                  <img src="assets/images/icons/editar.png" />
                </a>            
              </td>
            </ng-container>
                        
                   
                          <tr mat-header-row *matHeaderRowDef="visibleColumns"></tr>
                          <tr mat-row *matRowDef="let row; columns: visibleColumns;"></tr>
                        </table>
      
                      </div>
            
                      <mat-paginator [pageSizeOptions]="pageSizeOptions" [pageSize]="pageSize" class="sticky left-0"></mat-paginator>
                    </div>
            
                  </mat-card-content>       
                </mat-card>         
              </div>
         </div>
       </form>
      </mat-card-content>
    </mat-card>
  </mat-expansion-panel>
</section>

